# Junkman story

JSON RPC API для блуждания по пустому миру.

# Использование

```
junkman-api# composer i
junkman-api# vendor/bin/extas i
junkman-api# export EXTAS__BASE_PATH=/junkman-api
junkman-api# php -S 0.0.0.0:80 -t vendor/jeyroik/extas-jsonrpc/src/public
```

# Описание процесса

При появлении нового старьёвщика, он получает базовые характеристики и навыки.

Характеристики:
- Здоровье
- Максимальное здоровье
- Атака
- Защита
- Скорость
- Вес вещей, которые несёт старьёвщик
- Максимальный вес, который может нести старьёвщик

Навыки:
- Отдых
- Усталость
- Поиск

Воспользовавшись Поиском, старьёвщик может обнаружить какие-то артефакты - это могут быть вещи, либо способности.

При обнаружении вещи, старьёвщик получает информацию о ней, включая идентификатор, описание, вес, размер и т.п.
Воспользовавшись операцией "Взять", передав ей на вход идентификатор вещи, старьёвщик может взять её себе.
При этом вызывается метод `dispatch` у `IContentsItem`.

Некоторые вещи при попадании к старьёвщику предоставляют ему какие-то навыки или, можно сказать, действия.

Например, если старьёвщик поднял камень, то у него появляется способность "Кинуть камень", после применения которой старьёвщик лишается и камня, и способности, соответственно.
При получении нового навыка, никакие методы у навыка не вызываются.

Чтобы применить вещь или навык, нужно вызвать метод `junkman.item.use` или `junkman.skill.use` соответственно.
В аргументах надо передать к чему применить (`apply_to`) и какое действие выполнить (`action`).
При этом у вещи или навыка будет вызван метод с именем равным значению `action`.

# Цель

Прожить 100 дней, т.к. по непроверенной информации, именно через 100 дней должны появиться силы спасения и всех спасти.

# Изюминка

Главная изюминка в том, что все всё про всех могут узнать и все всеми могут управлять.

Говоря техническим языком, только к методам `Update`, `Delete` всех сущностей полностью отключен доступ через API, всем. 

Таким образом, обновить чьё-то состояние можно только выполнив какое-то игровое действие.